# =============================================================================
# CampusFlow 智慧校园多智能体系统 - 环境变量配置
# CampusFlow Environment Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Supabase 云数据库配置（必需）
# 从 Supabase Dashboard → Project Settings → Database 获取连接信息
# -----------------------------------------------------------------------------
SUPABASE_URL="https://your-project.supabase.co"
SUPABASE_KEY="your-anon-key"
SUPABASE_DB_URL="postgresql://postgres:[password]@db.your-project.supabase.co:5432/postgres"

# -----------------------------------------------------------------------------
# Neo4j 图数据库配置（必需）
# 推荐使用 Neo4j Aura 免费云实例：https://neo4j.com/cloud/aura/
# -----------------------------------------------------------------------------
NEO4J_URI="neo4j+s://xxx.databases.neo4j.io:7687"
NEO4J_USER="neo4j"
NEO4J_PASSWORD="your-password"

# -----------------------------------------------------------------------------
# LLM API 配置（必需）
# 支持 OpenAI API 或兼容的代理服务
# -----------------------------------------------------------------------------
OPENAI_API_KEY="sk-your-api-key"
# OPENAI_BASE_URL="https://api.openai.com/v1"  # 如果使用代理，请修改此项

# 阿里云 DashScope（可选，用于国内搜索增强）
DASHSCOPE_API_KEY="sk-your-dashscope-key"

# -----------------------------------------------------------------------------
# 网络搜索 API 配置（可选）
# -----------------------------------------------------------------------------
# Tavily AI 搜索（高质量搜索结果）
TAVILY_API_KEY="tvly-your-api-key"

# -----------------------------------------------------------------------------
# LangSmith 调试配置（可选）
# 用于跟踪和调试 LangGraph 工作流
# -----------------------------------------------------------------------------
LANGCHAIN_API_KEY="ls-your-api-key"
LANGCHAIN_TRACING_V2="true"
LANGCHAIN_PROJECT="campusflow"

# -----------------------------------------------------------------------------
# 应用配置（可选，使用默认值）
# -----------------------------------------------------------------------------
# 应用环境: development | production
ENVIRONMENT="development"

# 日志级别: DEBUG | INFO | WARNING | ERROR
LOG_LEVEL="INFO"

# API 配置
API_HOST="0.0.0.0"
API_PORT="8000"

# Gradio 前端配置
GRADIO_PORT="7860"

# 向量数据库配置
CHROMA_PERSIST_DIR="./db/chroma_db_campus"
EMBEDDING_MODEL="BAAI/bge-m3"

# -----------------------------------------------------------------------------
# 安全配置（生产环境必需）
# -----------------------------------------------------------------------------
# 敏感词过滤级别: strict | normal | loose
SENSITIVE_FILTER_LEVEL="normal"

# Token 预算上限（单次请求最大 Token 数）
MAX_TOKENS_PER_REQUEST="4000"

# 请求超时时间（秒）
REQUEST_TIMEOUT="30"

# -----------------------------------------------------------------------------
# 数据库连接池配置（可选）
# -----------------------------------------------------------------------------
DB_POOL_SIZE="10"
DB_MAX_OVERFLOW="20"
