# ã€Šå¤§æ¨¡å‹å¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼šæ™ºæ…§æ ¡å›­å…¨æ ˆå®æˆ˜ã€‹æ•™å­¦è®¡åˆ’

æ ¸å¿ƒç†å¿µï¼šä»¥â€œæ™ºæ…§æ ¡å›­â€ä¸ºä¸šåŠ¡è½½ä½“ï¼Œç³»ç»Ÿæ€§åœ°å®è·µ LangGraph çš„13é¡¹æ ¸å¿ƒèƒ½åŠ›ã€‚

å®è®­å¤§çº²ï¼ˆæŒ‰å¤©è§„åˆ’ï¼Œæ·±åº¦èåˆ LangGraph 13 é¡¹èƒ½åŠ›ï¼‰

å‰ç½®å‡†å¤‡ï¼ˆ0.5å¤©ï¼‰
*   èå…¥ç‚¹ï¼šç¯å¢ƒé…ç½®ä¸­æ˜ç¡®å®‰è£… langgraph, langchain, gradio ç­‰æ ¸å¿ƒåº“ã€‚
---

### Day 0ï¼šé¡¹ç›®å¯åŠ¨ä¸å·¥ç¨‹åŒ–åˆæ¢ï¼ˆå‰ç½®å‡†å¤‡ï¼‰

#### ä¸€ã€å‰æœŸçŸ¥è¯†ï¼ˆè¯¾å‰é¢„ä¹ ï¼Œ1hï¼‰

**å‚è€ƒèµ„æ–™**ï¼š
- `docs/å·¥ç¨‹è§„èŒƒ/é¡¹ç›®ç»“æ„è§„èŒƒ.md` - ç›®å½•ç»“æ„è®¾è®¡æ ‡å‡†
- `docs/éƒ¨ç½²/DockeråŸºç¡€.md` - å®¹å™¨åŒ–å…¥é—¨

1. **å¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼ˆMASï¼‰æ ¸å¿ƒè®¾è®¡æ¨¡å¼**ï¼šåˆ†å·¥åä½œï¼ˆDivision of Laborï¼‰ã€ä¸»ä»ç¼–æ’ï¼ˆMaster-Slaveï¼‰ã€åŠ¨æ€è·¯ç”±ï¼ˆDynamic Routingï¼‰ï¼›
2. **åˆ†å¸ƒå¼çŠ¶æ€ç®¡ç†æ ¸å¿ƒé—®é¢˜**ï¼šæ•°æ®ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ã€çŠ¶æ€ä¸¢å¤±ï¼ˆState Lossï¼‰ã€å¤šç«¯åŒæ­¥ï¼ˆMulti-device Syncï¼‰ï¼›
3. **å·¥ç¨‹åŒ–å¼€å‘è§„èŒƒ**ï¼šGit Flow å·¥ä½œæµï¼ˆMaster/Dev/Feature/Releaseï¼‰ã€Conventional Commits è§„èŒƒã€å‰åç«¯åˆ†ç¦»æ¶æ„ã€‚

#### äºŒã€å®éªŒç›®æ ‡

1. æŒæ¡æ™ºæ…§æ ¡å›­é¡¹ç›®çš„æ ‡å‡†ç›®å½•ç»“æ„ï¼ˆ`api/`/`agents/`/`db/`/`utils/`/`frontend/`ï¼‰ï¼›
2. å®Œæˆäº‘ç«¯å¼€å‘ç¯å¢ƒåˆå§‹åŒ–ï¼ˆSupabase äº‘æ•°æ®åº“ + GitHub ä»“åº“å…³è”ï¼‰ï¼›
3. å®ç°å®¹å™¨åŒ–å¼€å‘ç¯å¢ƒï¼ˆDockerï¼‰ï¼Œè§£å†³"åœ¨æˆ‘ç”µè„‘ä¸Šèƒ½è·‘"çš„ç¯å¢ƒä¸ä¸€è‡´é—®é¢˜ã€‚

#### ä¸‰ã€éš¾ç‚¹é‡ç‚¹

- **é‡ç‚¹**ï¼šGit Flow åˆ†æ”¯ç­–ç•¥ã€Supabase è¿æ¥é…ç½®ã€Docker å·æŒ‚è½½ï¼ˆVolumeï¼‰æŒä¹…åŒ–ï¼›
- **éš¾ç‚¹**ï¼šç¯å¢ƒå˜é‡å®‰å…¨ç®¡ç†ï¼ˆ`.env`ä¸æäº¤åˆ° Gitï¼‰ã€å¤šå¹³å° Docker é•œåƒæ„å»ºï¼ˆx86/ARMï¼‰ã€äº‘ç«¯æ•°æ®åº“æƒé™é…ç½®ï¼ˆRLS è¡Œçº§å®‰å…¨ï¼‰ã€‚

#### å››ã€çŸ¥è¯†åŸºç¡€

- **å¿…å¤‡**ï¼šGit åŸºç¡€ï¼ˆadd/commit/push/branchï¼‰ã€Python è™šæ‹Ÿç¯å¢ƒï¼ˆvenvï¼‰ã€åŸºç¡€ SQLï¼›
- **å¯é€‰**ï¼šDocker åŸºç¡€æ¦‚å¿µï¼ˆé•œåƒ/å®¹å™¨/ä»“åº“ï¼‰ã€Linux åŸºç¡€å‘½ä»¤ã€‚

#### äº”ã€å®éªŒæ­¥éª¤ï¼ˆ8hï¼Œå« 2h ç†è®ºè®²è§£ï¼‰

**é˜¶æ®µ 1ï¼šç†è®ºè®²è§£ï¼ˆ2hï¼‰**

1. **MAS æ¶æ„æ¨¡å¼**ï¼šå¯¹æ¯”å•ä½“ Agent vs å¤š Agent åä½œï¼Œæ™ºæ…§æ ¡å›­åœºæ™¯ä¸‹çš„è§’è‰²åˆ’åˆ†ï¼ˆå’¨è¯¢åŠ©æ‰‹ã€åŠç†åŠ©æ‰‹ã€å®¡æ ¸å‘˜ï¼‰ï¼ˆ40minï¼‰ï¼›
2. **çŠ¶æ€ç®¡ç†æŒ‘æˆ˜**ï¼šä¸ºä»€ä¹ˆéœ€è¦ PostgreSQLï¼ˆSupabaseï¼‰è€Œé SQLiteï¼ˆå¤šå®ä¾‹å…±äº«çŠ¶æ€ï¼‰ï¼ˆ30minï¼‰ï¼›
3. **Git Flow å®æˆ˜**ï¼šä¸»å¹²ä¿æŠ¤ã€Feature åˆ†æ”¯å‘½åè§„èŒƒï¼ˆ`feature/day0-init`ï¼‰ã€PR å®¡æŸ¥æµç¨‹ï¼ˆ30minï¼‰ï¼›
4. **Docker åŒ–ä»·å€¼**ï¼šç¯å¢ƒä¸€è‡´æ€§ã€å¿«é€Ÿå›æ»šã€äº‘åŸç”Ÿéƒ¨ç½²åŸºç¡€ï¼ˆ20minï¼‰ã€‚

**é˜¶æ®µ 2ï¼šå®æ“è½åœ°ï¼ˆ6hï¼‰**

**æ­¥éª¤ 1ï¼šé¡¹ç›®åˆå§‹åŒ–ä¸ Git é…ç½®ï¼ˆ1.5hï¼‰**

1. åŸºäºæ¨¡æ¿ä»“åº“åˆ›å»ºé¡¹ç›®ï¼ˆæˆ–ä½¿ç”¨ `cookiecutter`ï¼‰ï¼š
   ```bash
   mkdir campus-assistant && cd campus-assistant
   git init
   git checkout -b dev  # åˆ›å»ºå¼€å‘åˆ†æ”¯
   git checkout -b feature/day0-init  # ç‰¹æ€§åˆ†æ”¯
   ```

2. è®¾è®¡æ ‡å‡†ç›®å½•ç»“æ„ï¼š
   ```
   campus-assistant/
   â”œâ”€â”€ api/               # FastAPI æ¥å£å±‚
   â”œâ”€â”€ agents/            # æ™ºèƒ½ä½“æ ¸å¿ƒé€»è¾‘
   â”œâ”€â”€ db/                # æ•°æ®åº“æ¨¡å‹ä¸è¿ç§»
   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
   â”œâ”€â”€ frontend/          # Gradio å‰ç«¯ï¼ˆé¢„ç•™ï¼‰
   â”œâ”€â”€ docker/            # Docker é…ç½®
   â”œâ”€â”€ docs/              # æ–‡æ¡£
   â”œâ”€â”€ .env.example       # ç¯å¢ƒå˜é‡æ¨¡æ¿
   â””â”€â”€ docker-compose.yml # ç¼–æ’æ–‡ä»¶
   ```

3. é…ç½® `.gitignore`ï¼ˆPython/Docker/IDEï¼‰ï¼š
   ```gitignore
   .venv/
   __pycache__/
   .env
   db/chroma_db/  # æœ¬åœ°å‘é‡åº“ä¸æäº¤
   *.sqlite3
   ```

**æ­¥éª¤ 2ï¼šPython è™šæ‹Ÿç¯å¢ƒä¸ä¾èµ–ï¼ˆ1hï¼‰**

1. å¼ºåˆ¶ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼ˆé¿å…ä¾èµ–åœ°ç‹±ï¼‰ï¼š
   ```bash
   python -m venv .venv
   source .venv/bin/activate  # Windows: .venv\Scripts\activate
   
   # å®‰è£…åŸºç¡€ä¾èµ–
   pip install langgraph langchain-openai python-dotenv psycopg2-binary supabase
   pip freeze > requirements.txt
   ```

2. åˆ›å»º `pyproject.toml` ç°ä»£åŒ–é…ç½®ï¼ˆå¯é€‰ï¼Œæ¨èï¼‰ï¼›
3. ç¼–å†™ `README.md`ï¼ˆé¡¹ç›®ä»‹ç»ã€å¯åŠ¨æ­¥éª¤ã€ç¯å¢ƒå˜é‡è¯´æ˜ï¼‰ã€‚

**æ­¥éª¤ 3ï¼šäº‘ç«¯ç¯å¢ƒåˆå§‹åŒ–ï¼ˆSupabaseï¼‰ï¼ˆ1.5hï¼‰**

1. **åˆ›å»º Supabase é¡¹ç›®**ï¼š
   - è®¿é—® supabase.comï¼Œæ–°å»º Projectï¼ˆé¡¹ç›®åç§°ï¼š`campus-assistant`ï¼‰ï¼›
   - ä¿å­˜ `Project URL` å’Œ `anon/public` å¯†é’¥ï¼ˆç”¨äº Python è¿æ¥ï¼‰ã€‚

2. **æ•°æ®åº“åˆå§‹åŒ–**ï¼š
   ```sql
   -- Supabase SQL Editor ä¸­æ‰§è¡Œ
   CREATE TABLE student_profiles (
       id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
       student_id VARCHAR(20) UNIQUE NOT NULL,
       name VARCHAR(50),
       major VARCHAR(100),
       enrollment_date TIMESTAMP DEFAULT NOW(),
       metadata JSONB
   );
   
   -- å¯ç”¨ RLSï¼ˆè¡Œçº§å®‰å…¨ï¼‰ï¼Œåç»­é…åˆè®¤è¯ä½¿ç”¨
   ALTER TABLE student_profiles ENABLE ROW LEVEL SECURITY;
   ```

3. **Python è¿æ¥æµ‹è¯•**ï¼ˆ`utils/db_test.py`ï¼‰ï¼š
   ```python
   from supabase import create_client
   import os
   from dotenv import load_dotenv
   
   load_dotenv()
   supabase = create_client(os.getenv("SUPABASE_URL"), os.getenv("SUPABASE_KEY"))
   
   # æµ‹è¯•æ’å…¥
   data = supabase.table("student_profiles").insert({
       "student_id": "2024001",
       "name": "å¼ ä¸‰",
       "major": "è®¡ç®—æœºç§‘å­¦"
   }).execute()
   print("æ’å…¥æˆåŠŸ:", data)
   
   # æµ‹è¯•æŸ¥è¯¢
   result = supabase.table("student_profiles").select("*").eq("student_id", "2024001").execute()
   print("æŸ¥è¯¢ç»“æœ:", result.data)
   ```

**æ­¥éª¤ 4ï¼šDocker åŒ–éƒ¨ç½²é…ç½®ï¼ˆ1.5hï¼‰**

1. ç¼–å†™ `Dockerfile`ï¼ˆå¤šé˜¶æ®µæ„å»ºï¼Œå‡å°é•œåƒä½“ç§¯ï¼‰ï¼š
   ```dockerfile
   # é˜¶æ®µ1ï¼šæ„å»ºä¾èµ–
   FROM python:3.11-slim as builder
   WORKDIR /app
   COPY requirements.txt .
   RUN pip install --user --no-cache-dir -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
   
   # é˜¶æ®µ2ï¼šè¿è¡Œç¯å¢ƒ
   FROM python:3.11-slim
   WORKDIR /app
   
   # å¤åˆ¶ä¾èµ–
   COPY --from=builder /root/.local /root/.local
   ENV PATH=/root/.local/bin:$PATH
   
   # å¤åˆ¶ä»£ç 
   COPY . .
   
   # é root ç”¨æˆ·è¿è¡Œï¼ˆå®‰å…¨ï¼‰
   RUN useradd -m -u 1000 appuser && chown -R appuser:appuser /app
   USER appuser
   
   EXPOSE 8000
   CMD ["python", "api/main.py"]
   ```

2. ç¼–å†™ `docker-compose.yml`ï¼ˆæœ¬åœ°å¼€å‘æ ˆï¼‰ï¼š
   ```yaml
   version: '3.8'
   services:
     app:
       build: .
       ports:
         - "8000:8000"
       env_file: .env
       volumes:
         - ./:/app  # ä»£ç çƒ­é‡è½½
         - /app/.venv  # æ’é™¤è™šæ‹Ÿç¯å¢ƒ
       depends_on:
         - redis
         - chroma
         
     redis:  # ç¼“å­˜ä¸ä¼šè¯
       image: redis:alpine
       ports:
         - "6379:6379"
         
     chroma:  # æœ¬åœ°å‘é‡åº“ï¼ˆå¯é€‰ï¼Œä¹Ÿå¯ç”¨äº‘ç«¯ï¼‰
       image: chromadb/chroma:latest
       ports:
         - "8001:8000"
       volumes:
         - chroma_data:/chroma/chroma
   
   volumes:
     chroma_data:
   ```

3. æœ¬åœ°æµ‹è¯• Docker æ„å»ºï¼š
   ```bash
   docker-compose up --build
   # æµ‹è¯•æ•°æ®åº“è¿æ¥æ˜¯å¦é€šè¿‡å®¹å™¨ç½‘ç»œæ­£å¸¸
   ```

**æ­¥éª¤ 5ï¼šä»£ç æäº¤ä¸ PRï¼ˆ0.5hï¼‰**

1. æäº¤åˆå§‹åŒ–ä»£ç ï¼š
   ```bash
   git add .
   git commit -m "chore: é¡¹ç›®åˆå§‹åŒ–ï¼Œé…ç½®Dockerä¸Supabaseè¿æ¥"
   git push origin feature/day0-init
   ```
2. åˆ›å»º PRï¼ˆ`dev` â† `feature/day0-init`ï¼‰ï¼Œè¦æ±‚å®¡æŸ¥ `Dockerfile` å’Œ `.env.example` æ˜¯å¦å®‰å…¨ï¼ˆæ— æ•æ„Ÿä¿¡æ¯æ³„éœ²ï¼‰ï¼›
3. **ç»“è¯¾æ£€æŸ¥ç‚¹**ï¼šæäº¤ Supabase è¿æ¥æµ‹è¯•æˆªå›¾ï¼ˆæ•°æ®æ’å…¥æˆåŠŸï¼‰å’Œ Docker è¿è¡Œæ—¥å¿—ã€‚

#### å…­ã€è€ƒæ ¸æ–¹æ³•ï¼ˆé‡åŒ–è¯„åˆ†ï¼Œ10 åˆ†ï¼‰

| è€ƒæ ¸é¡¹ | åˆ†å€¼ | è¯„åˆ†æ ‡å‡† |
| --- | --- | --- |
| ç›®å½•ç»“æ„ | 2 åˆ† | ç¬¦åˆåˆ†å±‚æ¶æ„è§„èŒƒï¼Œæœ‰æ˜ç¡®çš„ api/agents/db åˆ†ç¦» |
| Git è§„èŒƒ | 2 åˆ† | ä½¿ç”¨ Feature åˆ†æ”¯ï¼ŒCommit ç¬¦åˆ Conventional Commits |
| Supabase è¿æ¥ | 3 åˆ† | æˆåŠŸè¿æ¥äº‘ç«¯æ•°æ®åº“ï¼Œå®Œæˆå¢åˆ æ”¹æŸ¥æµ‹è¯•ï¼Œé…ç½® RLS |
| Docker åŒ– | 2 åˆ† | Dockerfile å¤šé˜¶æ®µæ„å»ºï¼Œdocker-compose å¯ä¸€é”®å¯åŠ¨ |
| åŠ åˆ†é¡¹ | 1 åˆ† | é…ç½® GitHub Actions è‡ªåŠ¨æ„å»º Docker é•œåƒå¹¶æ¨é€åˆ°ä»“åº“ |

---

### Day 3ï¼šå¤æ‚å…³ç³»å¤„ç†ï¼ˆçŸ¥è¯†å›¾è°± Neo4jï¼‰

#### ä¸€ã€å‰æœŸçŸ¥è¯†ï¼ˆè¯¾å‰é¢„ä¹ ï¼Œ1hï¼‰

**å‚è€ƒèµ„æ–™**ï¼š
- `docs/å›¾æ•°æ®åº“/å›¾å»ºæ¨¡æŒ‡å—.md` - æ ¡å›­åœºæ™¯å®ä½“å…³ç³»è®¾è®¡
- `docs/å®‰å…¨/Cypheræ³¨å…¥é˜²æŠ¤.md` - æŸ¥è¯¢å®‰å…¨è§„èŒƒ

1. å›¾æ•°æ®åº“æ ¸å¿ƒæ¦‚å¿µï¼ˆèŠ‚ç‚¹ Node / å…³ç³» Relationship / å±æ€§ Propertyï¼‰ï¼Œä¸å…³ç³»å‹æ•°æ®åº“çš„èŒƒå¼å·®å¼‚ï¼›
2. æ™ºæ…§æ ¡å›­å›¾å»ºæ¨¡åŸåˆ™ï¼ˆå®ä½“æŠ½è±¡ï¼šå­¦ç”Ÿ-æ•™å¸ˆ-å®éªŒå®¤-è¯¾ç¨‹-é™¢ç³»ï¼›å…³ç³»å®šä¹‰ï¼šéš¶å± TEACHES_INã€é€‰ä¿® ENROLLSã€å…¥é©» BELONGS_TOï¼‰ï¼›
3. Text-to-Cypher åŸç†ï¼ˆNLâ†’Cypher çš„ Prompt å·¥ç¨‹ï¼‰ã€æ ¸å¿ƒé£é™©ï¼ˆCypher æ³¨å…¥ã€æ­»å¾ªç¯æŸ¥è¯¢ã€æ€§èƒ½çˆ†ç‚¸ï¼‰ã€‚

#### äºŒã€å®éªŒç›®æ ‡

1. æŒæ¡ Neo4j å›¾å»ºæ¨¡æ–¹æ³•ï¼ˆæ ¡å›­åœºæ™¯ï¼šå¤šè·³å…³ç³»å¦‚"æŸ¥è¯¢è®¡ç®—æœºå­¦é™¢å¼ è€å¸ˆçš„å®éªŒå®¤é‡Œçš„å­¦ç”Ÿ"ï¼‰ï¼›
2. å®ç°å®‰å…¨çš„ Text-to-Cypher ç³»ç»Ÿï¼ˆå¸¦è¯­æ³•æ ¡éªŒä¸æƒé™é™åˆ¶ï¼‰ï¼›
3. å®Œæˆ RAGï¼ˆChromaï¼‰ä¸çŸ¥è¯†å›¾è°±ï¼ˆNeo4jï¼‰çš„æ··åˆæ£€ç´¢ï¼ˆéç»“æ„åŒ–+ç»“æ„åŒ–èåˆï¼‰ã€‚

#### ä¸‰ã€éš¾ç‚¹é‡ç‚¹

- **é‡ç‚¹**ï¼šå›¾ Schema è®¾è®¡ï¼ˆé¿å…å…³ç³»çˆ†ç‚¸ï¼‰ã€Cypher è¯­å¥ç”Ÿæˆä¸éªŒè¯ã€å¤šè·³æŸ¥è¯¢ä¼˜åŒ–ï¼›
- **éš¾ç‚¹**ï¼šText-to-Cypher çš„å‡†ç¡®æ€§ï¼ˆSchema å¯¹é½ï¼‰ã€é˜²æ­¢ç ´åæ€§æ“ä½œï¼ˆDELETE/DROP è¿‡æ»¤ï¼‰ã€å›¾ä¸å‘é‡åº“çš„è”é‚¦æŸ¥è¯¢ï¼ˆFederated Queryï¼‰ã€‚

#### å››ã€çŸ¥è¯†åŸºç¡€

- **å¿…å¤‡**ï¼šCypher åŸºç¡€è¯­æ³•ï¼ˆMATCH/CREATE/WHERE/RETURNï¼‰ã€Python å­—ç¬¦ä¸²æ“ä½œï¼›
- **å¯é€‰**ï¼šå›¾è®ºåŸºç¡€ï¼ˆåº¦ã€è·¯å¾„ã€è¿é€šæ€§ï¼‰ã€Neo4j APOC æ‰©å±•åº“ã€‚

#### äº”ã€å®éªŒæ­¥éª¤ï¼ˆ8hï¼Œå« 2h ç†è®ºè®²è§£ï¼‰

**é˜¶æ®µ 1ï¼šç†è®ºè®²è§£ï¼ˆ2hï¼‰**

1. **å›¾æ•°æ®åº“é€‰å‹**ï¼šNeo4j vs å…³ç³»å‹æ•°æ®åº“åœ¨å…³ç³»æŸ¥è¯¢ä¸Šçš„æ€§èƒ½å¯¹æ¯”ï¼ˆå¤šè·³æŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦ï¼‰ï¼ˆ30minï¼‰ï¼›
2. **æ ¡å›­åœºæ™¯å»ºæ¨¡**ï¼šå®ä½“è¯†åˆ«ï¼ˆå­¦ç”Ÿã€æ•™å¸ˆã€å®éªŒå®¤ã€è¯¾ç¨‹ã€å®¿èˆã€é™¢ç³»ï¼‰ã€å…³ç³»è®¾è®¡ï¼ˆä¸€å¯¹ä¸€/ä¸€å¯¹å¤š/å¤šå¯¹å¤šï¼‰ï¼ˆ40minï¼‰ï¼›
3. **Text-to-Cypher å·¥ç¨‹**ï¼šPrompt æ¨¡æ¿è®¾è®¡ï¼ˆå« Schema æè¿°ï¼‰ã€Few-shot ç¤ºä¾‹ã€é”™è¯¯é‡è¯•æœºåˆ¶ï¼ˆ30minï¼‰ï¼›
4. **å®‰å…¨é˜²æŠ¤**ï¼šè¯­å¥ç™½åå•ï¼ˆåªè¯»æƒé™ï¼‰ã€æ­£åˆ™è¿‡æ»¤ï¼ˆç¦æ­¢ DROP/DELETE/MERGE å±é™©æ“ä½œï¼‰ã€æ‰§è¡Œè¶…æ—¶é™åˆ¶ï¼ˆ20minï¼‰ã€‚

**é˜¶æ®µ 2ï¼šå®æ“è½åœ°ï¼ˆ6hï¼‰**

**æ­¥éª¤ 1ï¼šNeo4j ç¯å¢ƒéƒ¨ç½²ï¼ˆ1hï¼‰**

1. **äº‘ç«¯éƒ¨ç½²ï¼ˆæ¨èï¼‰**ï¼šæ³¨å†Œ Neo4j Auraï¼ˆå…è´¹äº‘å®ä¾‹ï¼‰ï¼Œè·å–è¿æ¥ URI å’Œå¯†ç ï¼›
   **æˆ–æœ¬åœ° Docker**ï¼š
   ```yaml
   # æ·»åŠ åˆ° docker-compose.yml
   neo4j:
     image: neo4j:latest
     ports:
       - "7474:7474"  # Web UI
       - "7687:7687"  # Bolt åè®®
     environment:
       - NEO4J_AUTH=neo4j/password123
     volumes:
       - neo4j_data:/data
   ```

2. å®‰è£… Python é©±åŠ¨ï¼š`pip install neo4j langchain-community`ï¼›
3. è¿æ¥æµ‹è¯•ï¼ˆ`utils/neo4j_test.py`ï¼‰ï¼š
   ```python
   from neo4j import GraphDatabase
   driver = GraphDatabase.driver("bolt://localhost:7687", auth=("neo4j", "password123"))
   with driver.session() as session:
       result = session.run("RETURN 'Hello Neo4j' AS message")
       print(result.single()["message"])
   ```

**æ­¥éª¤ 2ï¼šæ™ºæ…§æ ¡å›­å›¾å»ºæ¨¡ä¸æ•°æ®å…¥åº“ï¼ˆ1.5hï¼‰**

1. è®¾è®¡å›¾ Schemaï¼ˆ`db/neo4j_schema.cypher`ï¼‰ï¼š
   ```cypher
   // åˆ›å»ºçº¦æŸï¼ˆå”¯ä¸€æ€§ï¼‰
   CREATE CONSTRAINT student_id IF NOT EXISTS
   FOR (s:Student) REQUIRE s.student_id IS UNIQUE;
   
   // å¯¼å…¥ä»¿çœŸæ•°æ®ï¼ˆæ•™å¸ˆ-å®éªŒå®¤-å­¦ç”Ÿå…³ç³»ï¼‰
   CREATE (t:Teacher {name: "å¼ æ•™æˆ", dept: "è®¡ç®—æœºå­¦é™¢", title: "æ•™æˆ"})
   CREATE (l:Lab {name: "äººå·¥æ™ºèƒ½å®éªŒå®¤", building: "ç§‘æŠ€æ¥¼305"})
   CREATE (s1:Student {name: "æå››", student_id: "2024001", major: "è®¡ç®—æœºç§‘å­¦"})
   CREATE (s2:Student {name: "ç‹äº”", student_id: "2024002", major: "è½¯ä»¶å·¥ç¨‹"})
   
   // å»ºç«‹å…³ç³»
   CREATE (t)-[:SUPERVISES]->(l)
   CREATE (s1)-[:BELONGS_TO]->(l)
   CREATE (s2)-[:BELONGS_TO]->(l)
   CREATE (t)-[:TEACHES {course: "æœºå™¨å­¦ä¹ "}]->(s1)
   ```

2. ç¼–å†™ Python æ•°æ®å¯¼å…¥è„šæœ¬ï¼ˆæ‰¹é‡å¯¼å…¥ CSVï¼‰ï¼›
3. **å¯è§†åŒ–éªŒè¯**ï¼šæ‰“å¼€ Neo4j Browserï¼ˆ:7474ï¼‰ï¼Œæ‰§è¡Œ `MATCH (n) RETURN n` æŸ¥çœ‹å…³ç³»å›¾ã€‚

**æ­¥éª¤ 3ï¼šåŸºç¡€æŸ¥è¯¢ä¸å¤šè·³å…³ç³»ï¼ˆ1hï¼‰**

1. å®ç°å¸¸ç”¨æŸ¥è¯¢å‡½æ•°ï¼ˆ`utils/graph_queries.py`ï¼‰ï¼š
   ```python
   def get_lab_students(teacher_name):
       """æŸ¥è¯¢æŸæ•™å¸ˆå®éªŒå®¤ä¸‹çš„æ‰€æœ‰å­¦ç”Ÿï¼ˆ2è·³æŸ¥è¯¢ï¼‰"""
       query = """
       MATCH (t:Teacher {name: $teacher_name})-[:SUPERVISES]->(l:Lab)<-[:BELONGS_TO]-(s:Student)
       RETURN s.name AS student, s.major AS major, l.name AS lab
       """
       with driver.session() as session:
           return list(session.run(query, teacher_name=teacher_name))
   
   def get_classmates(student_id):
       """æŸ¥è¯¢åŒå®éªŒå®¤åŒå­¦ï¼ˆååŒè¿‡æ»¤åŸºç¡€ï¼‰"""
       query = """
       MATCH (s:Student {student_id: $id})-[:BELONGS_TO]->(l:Lab)<-[:BELONGS_TO]-(classmate:Student)
       WHERE s <> classmate
       RETURN classmate.name, classmate.major
       """
       return list(session.run(query, id=student_id))
   ```

2. æµ‹è¯•å¤æ‚å¤šè·³ï¼š"æŸ¥æ‰¾æ•™è¿‡è®¡ç®—æœºå­¦é™¢å­¦ç”Ÿçš„æ‰€æœ‰æ•™æˆåŠå…¶å®éªŒå®¤"ï¼ˆ3è·³ä»¥ä¸Šï¼‰ã€‚

**æ­¥éª¤ 4ï¼šText-to-Cypher å®‰å…¨å®ç°ï¼ˆ1.5hï¼‰**

1. åŸºäº LangChain æ­å»º NLâ†’Cypher é“¾ï¼ˆ`agents/graph_agent.py`ï¼‰ï¼š
   ```python
   from langchain.chains import GraphCypherQAChain
   from langchain_community.graphs import Neo4jGraph
   
   graph = Neo4jGraph(url="bolt://localhost:7687", username="neo4j", password="password123")
   
   # å¢å¼º Schema æè¿°ï¼ˆæé«˜å‡†ç¡®æ€§ï¼‰
   graph.refresh_schema()
   enhanced_schema = graph.schema + """
   æ³¨æ„ï¼š
   1. Teacher å’Œ Student é€šè¿‡ TEACHES å…³ç³»è¿æ¥
   2. Lab å’Œ Student é€šè¿‡ BELONGS_TO å…³ç³»è¿æ¥
   3. æ‰€æœ‰æŸ¥è¯¢å¿…é¡»ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ï¼ˆ$paramï¼‰
   """
   
   chain = GraphCypherQAChain.from_llm(
       llm=ChatOpenAI(temperature=0),
       graph=graph,
       verbose=True,
       cypher_prompt=CYPHER_GENERATION_PROMPT,  # è‡ªå®šä¹‰ Prompt å« Few-shot
       return_intermediate_steps=True,  # è¿”å› Cypher è¯­å¥ç”¨äºå®¡è®¡
       top_k=10,  # é™åˆ¶è¿”å›æ•°é‡
       allow_dangerous_requests=False  # åŸºç¡€é˜²æŠ¤
   )
   ```

2. **å®‰å…¨é˜²æŠ¤å±‚**ï¼ˆå¿…é¡»å®ç°ï¼‰ï¼š
   ```python
   import re
   
   DANGEROUS_KEYWORDS = ['DROP', 'DELETE', 'REMOVE', 'SET', 'CREATE', 'MERGE', 'CALL']
   
   def validate_cypher(query: str) -> bool:
       """Cypher è¯­å¥å®‰å…¨æ£€æŸ¥"""
       upper_query = query.upper()
       # æ£€æŸ¥å±é™©å…³é”®å­—ï¼ˆåœ¨ç™½åå•æ¨¡å¼ä¸‹ï¼Œåªå…è®¸ MATCH/RETURN/WITH/LIMIT/ORDER BYï¼‰
       if any(kw in upper_query for kw in DANGEROUS_KEYWORDS):
           return False
       # å¿…é¡»åŒ…å« RETURNï¼ˆç¡®ä¿æ˜¯æŸ¥è¯¢è€Œéä¿®æ”¹ï¼‰
       if 'RETURN' not in upper_query:
           return False
       return True
   
   # åŒ…è£…æ‰§è¡Œå‡½æ•°
   def safe_query(nl_query: str):
       cypher = llm_generate_cypher(nl_query)  # ç”Ÿæˆ
       if not validate_cypher(cypher):
           raise ValueError("æ£€æµ‹åˆ°å±é™©æ“ä½œï¼Œå·²æ‹¦æˆª")
       return execute_cypher(cypher)
   ```

3. æ·»åŠ æŸ¥è¯¢è¶…æ—¶é™åˆ¶ï¼ˆé˜²æ­¢æ­»å¾ªç¯ï¼‰ï¼›
4. æµ‹è¯•è¾¹ç•Œï¼š"åˆ é™¤æ‰€æœ‰å­¦ç”Ÿ" â†’ åº”è¢«æ‹¦æˆªå¹¶è¿”å›å®‰å…¨æç¤ºã€‚

**æ­¥éª¤ 5ï¼šRAG + å›¾æ··åˆæ£€ç´¢ï¼ˆ0.5hï¼‰**

1. å®ç°è”åˆæŸ¥è¯¢é€»è¾‘ï¼š
   ```python
   def hybrid_retrieval(query: str):
       # 1. å‘é‡æ£€ç´¢ï¼ˆéç»“æ„åŒ–æ•°æ®ï¼šå¦‚å­¦ç”Ÿæ‰‹å†Œå†…å®¹ï¼‰
       vector_results = chroma_db.similarity_search(query, k=3)
       
       # 2. å›¾æ£€ç´¢ï¼ˆç»“æ„åŒ–å…³ç³»ï¼šå¦‚"å¼ ä¸‰çš„å®¤å‹æ˜¯è°"ï¼‰
       # å…ˆç”¨ LLM åˆ¤æ–­æ˜¯å¦éœ€è¦å›¾æŸ¥è¯¢
       if needs_graph(query):  # åŒ…å«"è°ã€å…³ç³»ã€å­¦é™¢ã€å¯¼å¸ˆ"ç­‰è¯
           graph_result = text_to_cypher(query)
       else:
           graph_result = None
           
       # 3. èåˆä¸Šä¸‹æ–‡ç”Ÿæˆå›ç­”
       context = format_vector_results(vector_results) + format_graph_result(graph_result)
       return llm_generate_answer(query, context)
   ```

**æ­¥éª¤ 6ï¼šä»£ç æäº¤ä¸ PRï¼ˆ0.5hï¼‰**

1. æäº¤ä»£ç ï¼š`git commit -m "feat: å®ç°Neo4jçŸ¥è¯†å›¾è°±ä¸Text-to-CypheræŸ¥è¯¢"`ï¼›
2. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/day3-neo4j`ï¼›
3. åˆ›å»º PRï¼Œé™„ Neo4j Browser æˆªå›¾ï¼ˆå¯è§†åŒ–å…³ç³»å›¾ï¼‰å’Œ Text-to-Cypher æµ‹è¯•ç”¨ä¾‹è¡¨ï¼ˆå«å®‰å…¨é˜²æŠ¤éªŒè¯ï¼‰ã€‚

#### å…­ã€è€ƒæ ¸æ–¹æ³•ï¼ˆé‡åŒ–è¯„åˆ†ï¼Œ10 åˆ†ï¼‰

| è€ƒæ ¸é¡¹ | åˆ†å€¼ | è¯„åˆ†æ ‡å‡† |
| --- | --- | --- |
| å›¾å»ºæ¨¡ | 2 åˆ† | Schema è®¾è®¡åˆç†ï¼Œå®ä½“å…³ç³»æ¸…æ™°ï¼Œæ— å†—ä½™ï¼Œå«å¤šè·³å…³ç³» |
| æ•°æ®å…¥åº“ | 2 åˆ† | æˆåŠŸå¯¼å…¥ä»¿çœŸæ•°æ®ï¼Œå¯åœ¨ Neo4j Browser ä¸­å¯è§†åŒ–æŸ¥çœ‹ |
| åŸºç¡€æŸ¥è¯¢ | 2 åˆ† | å®ç°è‡³å°‘ 3 ä¸ªå¤šè·³æŸ¥è¯¢å‡½æ•°ï¼ˆå¦‚å®éªŒå®¤-æ•™å¸ˆ-å­¦ç”Ÿå…³è”ï¼‰ |
| Text-to-Cypher | 3 åˆ† | è‡ªç„¶è¯­è¨€è½¬ Cypher å‡†ç¡®ç‡>80%ï¼Œæœ‰é”™è¯¯é‡è¯•æœºåˆ¶ |
| å®‰å…¨é˜²æŠ¤ | 1 åˆ† | å®ç°å±é™©è¯­å¥è¿‡æ»¤ï¼ˆç¦æ­¢ DROP/DELETEï¼‰ï¼Œåªè¯»æƒé™æ§åˆ¶ |

---

### Day 10ï¼šCI/CD è‡ªåŠ¨åŒ–ä¸éƒ¨ç½²ï¼ˆDevOps å®æˆ˜ï¼‰

#### ä¸€ã€å‰æœŸçŸ¥è¯†ï¼ˆè¯¾å‰é¢„ä¹ ï¼Œ1hï¼‰

**å‚è€ƒèµ„æ–™**ï¼š
- `docs/è¿ç»´/GitHubActions.md` - å·¥ä½œæµé…ç½®
- `docs/è¿ç»´/äº‘éƒ¨ç½²å¯¹æ¯”.md` - Vercel vs HuggingFace Spaces

1. æŒç»­é›†æˆ/æŒç»­éƒ¨ç½²ï¼ˆCI/CDï¼‰æ ¸å¿ƒåŸåˆ™ï¼šè‡ªåŠ¨åŒ–æµ‹è¯•ã€åˆ¶å“ç®¡ç†ã€è“ç»¿éƒ¨ç½²ï¼›
2. GitHub Actions å·¥ä½œæµè¯­æ³•ï¼ˆon/push/pull_request, jobs, steps, actions/checkoutï¼‰ï¼›
3. äº‘å¹³å°éƒ¨ç½²é€‰é¡¹ï¼šHugging Face Spacesï¼ˆGradio åŸç”Ÿæ”¯æŒï¼‰ã€Vercelï¼ˆServerlessï¼‰ã€é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—ã€‚

#### äºŒã€å®éªŒç›®æ ‡

1. é…ç½® GitHub Actions å®ç°è‡ªåŠ¨åŒ–æµ‹è¯•ä¸ Docker é•œåƒæ„å»ºï¼›
2. å°† Gradio åº”ç”¨éƒ¨ç½²è‡³ Hugging Face Spacesï¼ˆå…¬å¼€è®¿é—®ï¼‰ï¼›
3. å®ç°è‡ªåŠ¨åŒ–çš„"æäº¤ä»£ç â†’è‡ªåŠ¨æµ‹è¯•â†’æ„å»ºé•œåƒâ†’éƒ¨ç½²ä¸Šçº¿"æµæ°´çº¿ã€‚

#### ä¸‰ã€éš¾ç‚¹é‡ç‚¹

- **é‡ç‚¹**ï¼šGitHub Actions YAML ç¼–å†™ã€Secrets å¯†é’¥ç®¡ç†ã€Gradio çš„ `launch()` å‚æ•°é…ç½®ï¼ˆServer æ¨¡å¼ï¼‰ï¼›
- **éš¾ç‚¹**ï¼šè‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆå•å…ƒæµ‹è¯•è¦†ç›– Agent èŠ‚ç‚¹ï¼‰ã€å¤šç¯å¢ƒé…ç½®ï¼ˆDev/Staging/Prodï¼‰ã€å›æ»šæœºåˆ¶ï¼ˆRollbackï¼‰ã€‚

#### å››ã€çŸ¥è¯†åŸºç¡€

- **å¿…å¤‡**ï¼šGit è¿œç¨‹æ“ä½œã€YAML è¯­æ³•ã€Linux åŸºç¡€å‘½ä»¤ï¼›
- **å¯é€‰**ï¼šDocker Hub ä½¿ç”¨ã€SSH å¯†é’¥é…ç½®ã€‚

#### äº”ã€å®éªŒæ­¥éª¤ï¼ˆ8hï¼Œå« 2h ç†è®ºè®²è§£ï¼‰

**é˜¶æ®µ 1ï¼šç†è®ºè®²è§£ï¼ˆ2hï¼‰**

1. **CI/CD æµç¨‹è®¾è®¡**ï¼šGit æäº¤è§¦å‘ â†’ ä»£ç æ£€æŸ¥ï¼ˆLintï¼‰â†’ å•å…ƒæµ‹è¯• â†’ æ„å»ºé•œåƒ â†’ éƒ¨ç½²ï¼ˆ30minï¼‰ï¼›
2. **GitHub Actions æ ¸å¿ƒæ¦‚å¿µ**ï¼šWorkflowã€Jobï¼ˆå¹¶è¡Œ/ä¸²è¡Œï¼‰ã€Stepã€Actionï¼ˆå¤ç”¨ç¤¾åŒºè„šæœ¬ï¼‰ï¼ˆ30minï¼‰ï¼›
3. **äº‘å¹³å°é€‰å‹**ï¼š
   - Hugging Face Spacesï¼šé›¶é…ç½®éƒ¨ç½² Gradioï¼Œé€‚åˆ Demoï¼ˆ20minï¼‰ï¼›
   - Vercelï¼šé€‚åˆ Next.js å‰ç«¯ï¼ŒServerless å‡½æ•°ï¼ˆ20minï¼‰ï¼›
   - è‡ªå»º K8sï¼šé€‚åˆç”Ÿäº§çº§ï¼Œä½†è¶…å‡ºå®è®­èŒƒå›´ï¼ˆæåŠå³å¯ï¼‰ï¼ˆ20minï¼‰ã€‚

**é˜¶æ®µ 2ï¼šå®æ“è½åœ°ï¼ˆ6hï¼‰**

**æ­¥éª¤ 1ï¼šè‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼ˆ1.5hï¼‰**

1. ç¼–å†™å•å…ƒæµ‹è¯•ï¼ˆ`tests/` ç›®å½•ï¼‰ï¼š
   ```python
   # tests/test_agents.py
   import pytest
   from agents.campus_agent import create_campus_agent
   
   def test_agent_basic_response():
       agent = create_campus_agent()
       result = agent.invoke({"messages": [("user", "ä½ å¥½")]})
       assert "æ–°ç”Ÿ" in result["messages"][-1].content or "å¸®åŠ©" in result["messages"][-1].content
   
   def test_tool_calling():
       # æµ‹è¯•å·¥å…·è°ƒç”¨æ˜¯å¦æ­£ç¡®è§¦å‘
       result = agent.invoke({"messages": [("user", "é£Ÿå ‚åœ¨å“ªé‡Œ")]})
       # éªŒè¯æ˜¯å¦ä½¿ç”¨äº† campus_map å·¥å…·ï¼ˆé€šè¿‡æ£€æŸ¥ä¸­é—´æ­¥éª¤ï¼‰
       assert any("campus_map" in str(step) for step in result.get("intermediate_steps", []))
   ```

2. é…ç½® `pytest` ä¸è¦†ç›–ç‡æ£€æŸ¥ï¼š`pip install pytest pytest-asyncio`ï¼›
3. æœ¬åœ°æµ‹è¯•é€šè¿‡ï¼š`pytest tests/ -v --cov=agents`ã€‚

**æ­¥éª¤ 2ï¼šGitHub Actions å·¥ä½œæµï¼ˆ1.5hï¼‰**

1. åˆ›å»º `.github/workflows/ci-cd.yml`ï¼š
   ```yaml
   name: CI/CD Pipeline
   
   on:
     push:
       branches: [ main, dev ]
     pull_request:
       branches: [ main ]
   
   jobs:
     test:
       runs-on: ubuntu-latest
       steps:
         - uses: actions/checkout@v4
         
         - name: Set up Python
           uses: actions/setup-python@v5
           with:
             python-version: '3.11'
             
         - name: Install dependencies
           run: |
             pip install -r requirements.txt
             pip install pytest pytest-cov
             
         - name: Run tests
           run: pytest tests/ --cov=agents --cov-report=xml
           
         - name: Upload coverage
           uses: codecov/codecov-action@v3
           with:
             file: ./coverage.xml
   
     build:
       needs: test  # æµ‹è¯•é€šè¿‡åæ„å»º
       runs-on: ubuntu-latest
       if: github.ref == 'refs/heads/main'
       steps:
         - uses: actions/checkout@v4
         
         - name: Build Docker Image
           run: |
             docker build -t campus-assistant:${{ github.sha }} .
             docker tag campus-assistant:${{ github.sha }} campus-assistant:latest
             
         - name: Push to Docker Hubï¼ˆå¯é€‰ï¼‰
           uses: docker/login-action@v3
           with:
             username: ${{ secrets.DOCKER_USERNAME }}
             password: ${{ secrets.DOCKER_PASSWORD }}
           # run: docker push ...
   ```

2. é…ç½® Secretsï¼ˆGitHub Repo â†’ Settings â†’ Secretsï¼‰ï¼š`OPENAI_API_KEY`ã€`SUPABASE_URL` ç­‰ï¼›
3. æµ‹è¯•è§¦å‘ï¼šæäº¤ä»£ç åˆ° `dev` åˆ†æ”¯ï¼Œè§‚å¯Ÿ Actions è¿è¡ŒçŠ¶æ€ã€‚

**æ­¥éª¤ 3ï¼šHugging Face Spaces éƒ¨ç½²ï¼ˆ2hï¼‰**

1. **åˆ›å»º Space**ï¼š
   - è®¿é—® huggingface.co/spacesï¼Œæ–°å»º Spaceï¼ˆGradio SDKï¼ŒPublicï¼‰ï¼›
   - è®°å½• Space åç§°ï¼ˆå¦‚ `username/campus-assistant`ï¼‰ã€‚

2. **é…ç½®è‡ªåŠ¨éƒ¨ç½²**ï¼ˆé€šè¿‡ GitHub Actionsï¼‰ï¼š
   ```yaml
   # åœ¨ ci-cd.yml æ·»åŠ  deploy job
   deploy:
     needs: build
     runs-on: ubuntu-latest
     steps:
       - uses: actions/checkout@v4
         with:
           fetch-depth: 0  # å®Œæ•´å†å²
           
       - name: Push to Hugging Face
         run: |
           git config --global user.email "ci@example.com"
           git config --global user.name "CI Bot"
           git remote add space https://username:${{ secrets.HF_TOKEN }}@huggingface.co/spaces/username/campus-assistant
           git push space main -f
   ```

3. **åº”ç”¨é€‚é…**ï¼ˆ`app.py` å…¥å£æ–‡ä»¶è°ƒæ•´ï¼‰ï¼š
   ```python
   import gradio as gr
   import os
   from agents import create_supervisor_agent
   
   # Hugging Face Spaces ç¯å¢ƒå˜é‡è¯»å–
   os.environ["OPENAI_API_KEY"] = os.getenv("OPENAI_API_KEY")  # åœ¨ Space è®¾ç½®ä¸­é…ç½®
   os.environ["SUPABASE_URL"] = os.getenv("SUPABASE_URL")
   
   agent = create_supervisor_agent()
   
   def respond(message, history):
       # æµå¼å“åº”é€‚é… Hugging Face
       partial_message = ""
       for chunk in agent.stream({"messages": [("user", message)]}):
           if isinstance(chunk, dict) and "agent" in chunk:
               partial_message += chunk["agent"]["messages"][-1].content
               yield partial_message
   
   demo = gr.ChatInterface(
       respond,
       title="ğŸ“ æ™ºæ…§æ ¡å›­æ–°ç”ŸæŠ¥åˆ°åŠ©æ‰‹",
       description="æ”¯æŒæŠ¥åˆ°å’¨è¯¢ã€å®¿èˆæŸ¥è¯¢ã€å­¦ä¸šæŒ‡å¯¼ç­‰æœåŠ¡",
       examples=["å¦‚ä½•åŠç†æŠ¥åˆ°æ‰‹ç»­ï¼Ÿ", "è®¡ç®—æœºå­¦é™¢å¯¼å¸ˆæœ‰å“ªäº›ï¼Ÿ", "ä»Šå¤©å¤©æ°”å¦‚ä½•ï¼Ÿ"]
   )
   
   # å…³é”®ï¼šHF Spaces éœ€è¦ server_name="0.0.0.0"
   demo.launch(server_name="0.0.0.0", server_port=7860)
   ```

4. é…ç½® `requirements.txt` ç¡®ä¿åŒ…å«æ‰€æœ‰ä¾èµ–ï¼›
5. é¦–æ¬¡æ‰‹åŠ¨éƒ¨ç½²éªŒè¯ï¼š`git push` åˆ° Hugging Face ä»“åº“ï¼ŒæŸ¥çœ‹æ„å»ºæ—¥å¿—ã€‚

**æ­¥éª¤ 4ï¼šå¤šç¯å¢ƒé…ç½®ä¸å¥åº·æ£€æŸ¥ï¼ˆ0.5hï¼‰**

1. åŒºåˆ†ç¯å¢ƒé…ç½®ï¼ˆ`config/` ç›®å½•ï¼‰ï¼š
   ```python
   # config/settings.py
   import os
   
   ENV = os.getenv("APP_ENV", "development")
   
   if ENV == "production":
       DB_URL = os.getenv("SUPABASE_URL")
       LLM_MODEL = "gpt-4o"
       DEBUG = False
   else:
       DB_URL = "sqlite:///local.db"
       LLM_MODEL = "gpt-4o-mini"
       DEBUG = True
   ```

2. æ·»åŠ å¥åº·æ£€æŸ¥ç«¯ç‚¹ï¼ˆ`api/health.py`ï¼‰ï¼š
   ```python
   from fastapi import FastAPI
   import psutil
   
   app = FastAPI()
   
   @app.get("/health")
   def health_check():
       return {
           "status": "healthy",
           "cpu": psutil.cpu_percent(),
           "memory": psutil.virtual_memory().percent,
           "db_connected": check_db_connection()
       }
   ```

**æ­¥éª¤ 5ï¼šæœ€ç»ˆæäº¤ä¸éªŒè¯ï¼ˆ0.5hï¼‰**

1. æäº¤æ‰€æœ‰é…ç½®ï¼š`git commit -m "ci: é…ç½®GitHub Actionsä¸HF Spacesè‡ªåŠ¨éƒ¨ç½²"`ï¼›
2. åˆ›å»º PR åˆ° `main` åˆ†æ”¯ï¼Œåˆå¹¶åè§‚å¯Ÿè‡ªåŠ¨éƒ¨ç½²ï¼›
3. **éªŒæ”¶æ ‡å‡†**ï¼šè®¿é—® `https://huggingface.co/spaces/{username}/campus-assistant` å¯æ­£å¸¸å¯¹è¯ï¼›
4. æäº¤éƒ¨ç½²é“¾æ¥ä¸ CI/CD æµç¨‹å›¾ã€‚

#### å…­ã€è€ƒæ ¸æ–¹æ³•ï¼ˆé‡åŒ–è¯„åˆ†ï¼Œ10 åˆ†ï¼‰

| è€ƒæ ¸é¡¹ | åˆ†å€¼ | è¯„åˆ†æ ‡å‡† |
| --- | --- | --- |
| è‡ªåŠ¨åŒ–æµ‹è¯• | 2 åˆ† | ç¼–å†™äº†è‡³å°‘ 3 ä¸ªå•å…ƒæµ‹è¯•ï¼ŒGitHub Actions è‡ªåŠ¨è¿è¡Œé€šè¿‡ |
| CI é…ç½® | 2 åˆ† | GitHub Actions å·¥ä½œæµé…ç½®æ­£ç¡®ï¼Œå«æµ‹è¯•ä¸æ„å»ºé˜¶æ®µ |
| HuggingFace éƒ¨ç½² | 3 åˆ† | æˆåŠŸéƒ¨ç½²åˆ° Spacesï¼Œå…¬ç½‘å¯è®¿é—®ï¼ŒåŸºç¡€åŠŸèƒ½æ­£å¸¸ |
| å¤šç¯å¢ƒç®¡ç† | 2 åˆ† | åŒºåˆ† Dev/Prod ç¯å¢ƒï¼Œæ•æ„Ÿä¿¡æ¯é€šè¿‡ Secrets ç®¡ç† |
| åŠ åˆ†é¡¹ | 1 åˆ† | å®ç°è‡ªåŠ¨å›æ»šï¼ˆå¤±è´¥æ—¶æ¢å¤ä¸Šä¸€ç‰ˆæœ¬ï¼‰æˆ–éƒ¨ç½²é€šçŸ¥ï¼ˆWebhookï¼‰ |

---

## ğŸ“… å®Œæ•´ 15 å¤©æ•™å­¦è·¯çº¿å›¾

```mermaid
gantt
    title æ™ºæ…§æ ¡å›­æ–°ç”ŸæŠ¥åˆ°åŠ©æ‰‹ - å®Œæ•´å®è®­è·¯çº¿å›¾
    dateFormat  YYYY-MM-DD
    
    section åŸºç¡€å‡†å¤‡
    Day0 å·¥ç¨‹åŒ–å¯åŠ¨    :done, d0, 2026-02-01, 1d
    Day1 ReAct Agent   :done, d1, after d0, 1d
    Day2 RAGå‘é‡åº“     :done, d2, after d1, 1d
    
    section æ•°æ®å±‚å¢å¼º
    Day3 çŸ¥è¯†å›¾è°±Neo4j :done, d3, after d2, 1d
    Day4 StateGraph    :done, d4, after d3, 1d
    
    section æ¶æ„æ ¸å¿ƒ
    Day5 ä¸­é—´ä»¶        :done, d5, after d4, 1d
    Day6 HITL          :done, d6, after d5, 1d
    Day7 è®°å¿†ç³»ç»Ÿ      :done, d7, after d6, 1d
    Day8 ä¸Šä¸‹æ–‡å·¥ç¨‹    :done, d8, after d7, 1d
    Day9 MCP Server    :done, d9, after d8, 1d
    
    section DevOps
    Day10 CI/CDéƒ¨ç½²    :crit, d10, after d9, 1d
    
    section é«˜çº§ç‰¹æ€§
    Day11 Supervisor   :done, d11, after d10, 1d
    Day12 å¹¶è¡Œè®¡ç®—     :done, d12, after d11, 1d
    Day13 ç½‘ç»œæœç´¢     :done, d13, after d12, 1d
    Day14 Deep Agents  :done, d14, after d13, 1d
    
    section äº§å“å‘å¸ƒ
    Day15 Gradio APP   :crit, d15, after d14, 1d
```

**æ•™å­¦è¦ç‚¹æ€»ç»“**ï¼š
1. **Day 0** è§£å†³ç¯å¢ƒç—›ç‚¹ï¼ˆDocker+Supabaseï¼‰ï¼Œç¡®ä¿æ‰€æœ‰å­¦ç”Ÿèµ·ç‚¹ä¸€è‡´ï¼›
2. **Day 3** å¼•å…¥çŸ¥è¯†å›¾è°±å¤„ç†å¤æ‚å…³ç³»ï¼ˆå¦‚å¯¼å¸ˆ-å®éªŒå®¤-å­¦ç”Ÿç½‘ç»œï¼‰ï¼Œå¼¥è¡¥å‘é‡åº“ç»“æ„åŒ–ä¸è¶³ï¼›
3. **Day 10** æå‰éƒ¨ç½² CI/CDï¼Œç¡®ä¿åç»­é«˜çº§ç‰¹æ€§ï¼ˆSupervisor/Deep Agentsï¼‰å¯è‡ªåŠ¨é›†æˆæµ‹è¯•ï¼Œå½¢æˆ"å¼€å‘-æµ‹è¯•-éƒ¨ç½²"é—­ç¯ï¼›
4. ä¿æŒ**é¡¹ç›®è¿è´¯æ€§**ï¼šæ¯ä¸€å¤©çš„ä»£ç éƒ½åŸºäºå‰ä¸€å¤©ï¼Œæœ€ç»ˆåœ¨ç¬¬15å¤©å½¢æˆå¯æ¼”ç¤ºçš„ç”Ÿäº§çº§äº§å“ã€‚